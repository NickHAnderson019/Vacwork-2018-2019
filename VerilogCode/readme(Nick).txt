To run the test bench with the verilog code:

iverilog -o counter counter.v counter_tb.v
vvp counter